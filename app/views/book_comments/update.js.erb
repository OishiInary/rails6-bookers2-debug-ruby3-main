// コメント更新に成功した場合
$('js-comment-<%= @comment.id %>').html('<%= "public/comments/js_comment", comment: @comment %>;

//キャンセルボタンが押下された場合
$($('#js-comment-<%= @comment.id %>').find('.comment-cancel-button')[0].on('click', (e) => {

//以下の４つの処理を行う

//コメントラベルを再表示

    $('#js-comment-label-<%= @comment.id %>').show();
    
//コメント編集エリアを非表示に
    
    $('#js-textarea-comment-<%= @comment.id %>').hide();

//コメントボタンの更新ボタンを非表示

    $('js-comment-button-<%= @comment.id %>').hide();

//エラーメッセージを非表示

    $('js-comment-post-error-<%= @comment.id %>').hide();
    
})

// コメントの更新にエラーがある場合

<% if @comment.errors.any? %>

  //エラーメッセージ要素を取得

  const commentError = $('#js-comment-post-error-<%= @comment.id %>');
  
  //エラーメッセージを設定
  
  commentError.text('<%= @comment.errors.full_messages.first %>');
  
  //エラーメッセージを　２秒　でフェードアウト
  
  commentError.fadeout(2000);
  
<% end %>  